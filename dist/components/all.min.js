"use strict";angular.module("cossap.catalogue",[]).directive("cossapCatalogue",[function(){return{templateUrl:"components/catalogue/catalogue.html",controller:"cossapCatalogueController"}}]).controller("cossapCatalogueController",["$scope","streamChartService",function(e,r){var o,a,t,n=_viewer.scene.imageryLayers,s=_viewer.canvas;_viewer.scene.globe.ellipsoid;e.demoGraph=function(){r.initChart()},e.addClickCanvas=function(){s.onclick=function(){console.log("CLICK")}},e.clickHandlerLocation=function(){var e,r=new Cesium.ScreenSpaceEventHandler(s);r.setInputAction(function(r){console.log(r),e=Cesium.Cartesian3.clone(r.position);var o=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e);console.log("Cesium.Cartesian mousePosition "+e),console.log("Cesium.Cartographic mousePosition "+o)},Cesium.ScreenSpaceEventType.LEFT_CLICK)},e.rest=function(){console.log("ArcGis");var e="http://www.ga.gov.au/gis/rest/services/topography/Australian_Topography_WM/MapServer",r="0";return a?(n.remove(a),console.log("removing layer.."),void(a=null)):void(a=n.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:e,layers:r,rectangle:ausExtent})))},e.wms=function(){if(console.log("wms"),o)return n.remove(o),console.log("removing layer.."),void(o=null);var e="https://programs.communications.gov.au/geoserver/ows",r="mybroadband:MyBroadband_ADSL_Availability";o=n.addImageryProvider(new Cesium.WebMapServiceImageryProvider({url:e,layers:r,rectangle:ausExtent,parameters:{transparent:"true",format:"image/png"}})),o.alpha=.6},e.boreholes=function(){if(console.log("boreholes"),t)return n.remove(t),console.log("removing layer.."),void(t=null);var e="http://www.ga.gov.au/borehole-gsmlborehole-gws/ows",r="gsmlp:BoreholeView",o=function(){console.log("CALLBACK.. only fires when no features returned...")};t=n.addImageryProvider(new Cesium.WebMapServiceImageryProvider({url:e,layers:r,rectangle:ausExtent,parameters:{transparent:"true",format:"image/png"},enablePickFeatures:!0,getFeatureInfoFormats:[new Cesium.GetFeatureInfoFormat("json","application/json",o)]})),t.alpha=1}}]),angular.module("cossap.cesiumpanel",[]).controller("CesiumPanelController",["$scope","cossapChartState",function(e,r){e.cossapChartState=r}]),angular.module("cossap.charts.stream",[]).directive("chartStream",[function(){return{templateUrl:"components/charts/chart-stream.html",controller:"streamChartController"}}]).controller("streamChartController",["$scope","cossapChartState",function(e,r){e.cossapChartState=r}]).factory("streamChartService",["$rootScope","cossapChartState",function(e,r){var o={};return o.initChart=function(){console.log("initChart.."),r.chartPanel=!0,e.$$phase||e.$apply()},o}]),angular.module("cossap.charts",[]).directive("cossapChartPanel",[function(){return{templateUrl:"components/charts/charts.html",controller:"cossapChartController"}}]).controller("cossapChartController",["$scope","cossapChartState",function(e,r){e.cossapChartState=r}]).factory("cossapChartState",[function(){var e={};return e.chartPanel=!0,e.streamChart=!1,e}]);